# プロジェクトディレクトリ構造

```
.
├── app                             # Next.js アプリケーションのメインディレクトリ
│   ├── auth                        # 認証関連のルート
│   │   └── callback                # 認証コールバック処理
│   ├── brands                      # ブランド関連のルート
│   │   └── [brandId]               # 特定ブランドのダイナミックルート
│   │       ├── components          # ブランド固有のコンポーネント
│   │       ├── products            # 製品関連のルート
│   │       │   └── [productId]     # 特定製品のダイナミックルート
│   │       │       ├── clients     # クライアントサイドコンポーネント
│   │       │       │   ├── components  # 製品固有のUIコンポーネント
│   │       │       │   └── hooks       # 製品固有のReactフック
│   │       │       ├── utils       # 製品固有のユーティリティ関数
│   │       │       └── vintages    # ヴィンテージ関連のルート
│   │       │           └── [vintageId]  # 特定ヴィンテージのダイナミックルート
│   │       │               ├── checkpoints  # チェックポイント関連のルート
│   │       │               │   ├── clients  # クライアントサイドコンポーネント
│   │       │               │   │   ├── components  # チェックポイント固有のUIコンポーネント
│   │       │               │   │   └── hooks       # チェックポイント固有のReactフック
│   │       │               │   └── new        # 新規チェックポイント作成ルート
│   │       └── utils           # ブランド製品固有のユーティリティ関数
│   ├── checkpoints             # チェックポイント関連のルート
│   │   └── clients             # クライアントサイドコンポーネント
│   │       └── components      # チェックポイント共通のUIコンポーネント
│   └── profiles                # ユーザープロファイル関連のルート
│       ├── [id]                # 特定ユーザーのダイナミックルート
│       │   ├── clients         # クライアントサイドコンポーネント
│       │   │   ├── components  # プロファイル固有のUIコンポーネント
│       │   │   └── hooks       # プロファイル固有のReactフック
│       │   └── edit            # プロファイル編集ルート
│       └── utils               # プロファイル関連のユーティリティ関数
├── components                  # 共通コンポーネント
│   ├── auth                    # 認証関連の共通コンポーネント
│   └── ui                      # 汎用UIコンポーネント（ボタン、カード、モーダルなど）
│       └── like                # いいね機能関連のUIコンポーネント
├── contexts                    # Reactコンテキスト
├── doc                         # プロジェクトドキュメント
├── hooks                       # 共通Reactフック
├── lib                         # ライブラリとユーティリティ
│   ├── api                     # API関連のコード
│   │   └── supabase            # Supabase APIクライアント
│   │       └── utils           # Supabase関連のユーティリティ関数
│   ├── config                  # アプリケーション設定
│   └── (その他のユーティリティファイル)
└── public                      # 静的ファイル
    └── images                  # 画像ファイル
```

## ディレクトリの役割

### app/
Next.js v14のApp Routerを使用したアプリケーションのメインディレクトリ。ルーティングとページコンポーネントを含む。

### app/auth/
認証関連の機能を提供するルート。ログイン、サインアップ、認証コールバック処理などを含む。

### app/brands/
ブランド関連のページとコンポーネントを含むディレクトリ。ブランド一覧、詳細表示などの機能を提供。

### app/brands/[brandId]/products/
特定ブランドの製品関連ページとコンポーネントを含むディレクトリ。製品一覧、詳細表示などの機能を提供。

### app/brands/[brandId]/products/[productId]/vintages/
特定製品のヴィンテージ関連ページとコンポーネントを含むディレクトリ。ヴィンテージ一覧、詳細表示などの機能を提供。

### app/brands/[brandId]/products/[productId]/vintages/[vintageId]/checkpoints/
特定ヴィンテージのチェックポイント関連ページとコンポーネントを含むディレクトリ。チェックポイントの表示、作成、編集などの機能を提供。

### app/checkpoints/
チェックポイント関連の共通ページとコンポーネントを含むディレクトリ。

### app/profiles/
ユーザープロファイル関連のページとコンポーネントを含むディレクトリ。プロファイル表示、編集などの機能を提供。

### components/
アプリケーション全体で再利用可能なコンポーネントを含むディレクトリ。

### components/auth/
認証関連の共通コンポーネントを含むディレクトリ。ログインフォーム、サインアップフォームなど。

### components/ui/
汎用的なUIコンポーネントを含むディレクトリ。ボタン、カード、モーダル、フォーム要素など。

### components/ui/like/
いいね機能関連のUIコンポーネントを含むディレクトリ。アトミックデザイン原則に基づいて実装されたいいねボタンなど。

### contexts/
Reactコンテキストを含むディレクトリ。アプリケーション状態管理のためのコンテキストプロバイダーなど。

### hooks/
カスタムReactフックを含むディレクトリ。アプリケーション全体で再利用可能なロジックをフックとして提供。

### lib/
ユーティリティ関数、型定義、APIクライアントなどを含むディレクトリ。

### lib/api/
APIクライアントとAPI関連のユーティリティを含むディレクトリ。

### lib/api/supabase/
Supabase APIクライアントと関連ユーティリティを含むディレクトリ。データベース操作のための関数など。

### lib/config/
アプリケーション設定を含むディレクトリ。環境変数、定数など。

### public/
静的ファイルを含むディレクトリ。画像、フォント、その他の静的アセットなど。

## アトミックコンポーネント設計

プロジェクトでは、特にいいね機能においてアトミックデザイン原則を採用しています。これにより、コンポーネントは以下の階層構造に整理されています：

### コンポーネント階層

```
Atoms（原子）
└── LikeButton（いいねボタン）: 最小単位のUIコンポーネント
    └── components/ui/like/LikeButton.tsx

Molecules（分子）
└── CheckPointFooter（チェックポイントフッター）: いいねボタンとシェアボタンを含む
    └── components/ui/CheckPoints.tsx (内部に定義)

Organisms（有機体）
└── CheckPoint（チェックポイントカード）: 完全なチェックポイント表示
    └── components/ui/CheckPoints.tsx (内部に定義)
    └── app/brands/[brandId]/products/[productId]/clients/components/CheckPoint.tsx

Templates（テンプレート）
└── CheckPoints（チェックポイント一覧）: 複数のチェックポイントを表示
    └── components/ui/CheckPoints.tsx
```

### カスタムフック階層

```
基本フック
└── useLike: いいね機能の基本ロジック
    └── hooks/useLike.ts

複合フック
└── useCheckPoint: チェックポイント関連の複合ロジック（いいね機能を含む）
    └── hooks/useCheckPoint.ts
```

この設計により、コードの重複を排除し、保守性と再利用性を向上させています。各コンポーネントとフックは明確に定義された単一の責任を持ち、小さなコンポーネントを組み合わせて複雑なUIを構築する合成パターンを採用しています。
